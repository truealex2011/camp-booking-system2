<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ {{ date.strftime('%d.%m.%Y') }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/print.css') }}">
</head>
<body>
    <div class="print-header">
        <h1 style="display: flex; align-items: center; justify-content: center; gap: 15px; margin: 0;">
            <span style="font-size: 28px; line-height: 1.2;">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –Ω–∞</span>
            <span class="no-print">
                <input type="date" id="dateSelector" value="{{ date.strftime('%Y-%m-%d') }}" 
                       style="padding: 6px 12px; border: 2px solid #1565C0; border-radius: 8px; font-size: 28px; font-weight: bold; cursor: pointer; color: #1565C0; font-family: inherit; transform: translateY(-2px);">
            </span>
            <span class="print-only" style="color: #1565C0; font-weight: bold; font-size: 28px; line-height: 1.2;">{{ date.strftime('%d.%m.%Y') }}</span>
        </h1>
    </div>
    
    <table class="print-table">
        <thead>
            <tr>
                <th>–í—Ä–µ–º—è</th>
                <th>–£—Å–ª—É–≥–∞</th>
                <th>–§–ò–û</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–õ–∞–≥–µ—Ä—å</th>
                <th>–ù–æ–º–µ—Ä –±—Ä–æ–Ω–∏</th>
            </tr>
        </thead>
        <tbody>
            {% for booking in bookings %}
            <tr>
                <td>{{ booking.time_slot }}</td>
                <td>{{ booking.service.name if booking.service else '-' }}</td>
                <td>{{ booking.last_name }} {{ booking.first_name }}</td>
                <td>{{ booking.phone }}</td>
                <td>{{ booking.camp }}</td>
                <td>{{ booking.reference_number }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    {% if not bookings %}
    <div class="no-bookings">
        <p>–ù–∞ —Å–µ–≥–æ–¥–Ω—è –Ω–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π</p>
    </div>
    {% endif %}
    
    <div class="print-footer">
        <p>–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {{ bookings|length }}</p>
        <p>–ê–¥—Ä–µ—Å: —É–ª. –ü–µ—Ç—Ä–∞ –õ–æ–º–∞–∫–æ 4–∞</p>
    </div>
    
    <div class="no-print">
        <button onclick="window.print()" class="btn btn-primary">üñ®Ô∏è –ü–µ—á–∞—Ç—å</button>
        <a href="{{ url_for('admin.dashboard') }}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</a>
    </div>
    
    <script>
    document.getElementById('dateSelector').addEventListener('change', function() {
        const selectedDate = this.value;
        window.location.href = '{{ url_for("admin.print_schedule") }}?date=' + selectedDate;
    });
    </script>
</body>
</html>
